import { Meta } from '@storybook/blocks'

<Meta
  title="Для разработчика/Общая информация"
  parameters={{ previewTabs: { canvas: { hidden: true } } }}
  id="dev/start"
/>

# Общая информация для разработчика

## Содержание

- [Введение](#введение)
- [Структура проекта](#структура-проекта)
- [Скрипты](#скрипты)

## Введение

Добро пожаловать в документацию MDX для нашего UI Kit! В этом руководстве вы найдете всю необходимую информацию для начала разработки UI Kit с использованием MDX. MDX объединяет возможности Markdown и JSX, позволяя вам создавать интерактивную и динамическую документацию.

## Общая информация

Наш проект UI Kit имеет определенную структуру, которая обеспечивает модульность и поддерживаемость. Вот основные каталоги и файлы в проекте:

- `lerna`: Менеджер монорепозитория. Работает в связке с yarn workspaces. Т.к. каждый компонент это отдельный пакет, Lerna сильно упрощает работу с публикацией и версированием пакетов, а так же следит за версиями зависящих друг от друга пакетов. (https://lerna.js.org/)

- `nx`: Работает в связке с Lerna. Помогает резолвить зависящие друг от дурга пакеты. Может как откладывать сборку так и производить параллельную сборку пакетов. (https://nx.dev/getting-started/intro)

- `.storybook`: Этот каталог содержит файлы конфигурации для Storybook. Здесь вы можете настроить различные аспекты Storybook, такие как темы, раскладку и т.д., в которых запускаются истории. (https://storybook.js.org/docs/react/get-started/setup)

- `packages`: В этом каталоге находятся отдельные пакеты или компоненты UI Kit. Каждый пакет может содержать свою собственную структуру файлов и зависимости. (https://classic.yarnpkg.com/lang/en/docs/workspaces/)

- `rollup`: Для сборки используется сборщик Rollup. (https://rollupjs.org/introduction/)

- `vite`: Сборщик сторибука и бандлер. (https://vitejs.dev/guide/cli.html)

- `sass`: Для стилизации используется Sass (scss).

### Скрипты

UI Kit поставляется с предопределенными скриптами, которые можно выполнить с помощью CLI. Эти скрипты выполняют различные задачи, такие как сборка UI Kit, создание нового копонента и другое.

```bash
"scripts": {
    "new": "cli/create-package.sh",
    "prepareSh": "chmod +x bin/prepare.sh && bin/prepare.sh",
    "dev": "storybook dev -p 6006",
    "preview:sb": "http-server storybook-static -p 9009",
    "build:sb": "yarn build && storybook build",
    "build": "bin/build.sh",
    "clean": "rm -rf packages/*/{tsconfig.tsbuildinfo,build} && rm -rf {build,storybook-static}",
    "pub:root": "./bin/publish.sh"
},
```

#### `yarn new` - запускает скрипт `cli/create-package.sh` который создает шаблон нового компонента в packages.

#### `prepareSh` - раздает пермишены на все самописыне скрипты.

#### `dev` - запускает storybook локально.

#### `build:sb` - билдит сторибук.

#### `preview:sb` - запускает билд сторибука локально (localhost:9009).

#### `build` - запускает `bin/build.sh` скрипт, который билдит все пакеты.

#### `clean` - чистит билды сторибука и всех пакетов.

#### `pub:root` - билдит и публикует все пакеты.
