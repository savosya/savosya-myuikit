{"version":3,"file":"Tabs-19e0b86c.js","sources":["../../.storybook/components/tabs/utils.ts","../../.storybook/components/tabs/stickyCanvas.ts","../../.storybook/components/tabs/Tabs.tsx"],"sourcesContent":["export type TabType = 'docs' | 'props' | 'css'\nexport const allTabs = [\n  { value: 'docs', label: 'Документация' },\n  { value: 'props', label: 'Свойства' },\n  { value: 'css', label: 'CSS Переменные' },\n  { value: 'canvas', label: 'Canvas' }\n]\n","export const STICKY_CANVAS_CLASS = 'STICKY_CANVAS_CLASS'\nexport const stickyCanvasObj = {\n  className: STICKY_CANVAS_CLASS,\n  withToolbar: false\n}\n\nexport const stickCanvas = () => {\n  const canvas: HTMLDivElement = document.querySelector(`.${STICKY_CANVAS_CLASS}`)\n\n  if (!canvas) {\n    console.warn('[stickCanvas]: Canvas not found.')\n    return\n  }\n\n  canvas.style.position = 'sticky'\n  canvas.style.top = '0'\n  canvas.style.zIndex = '100'\n}\n\nexport const unstickCanvas = () => {\n  const canvas: HTMLDivElement = document.querySelector(`.${STICKY_CANVAS_CLASS}`)\n\n  if (!canvas) {\n    console.warn('[unstickCanvas]: Canvas not found.')\n    return\n  }\n\n  canvas.style.position = 'relative'\n}\n","import React, { useCallback, useLayoutEffect, useRef, useState } from 'react'\nimport { clsx } from 'clsx'\n\nimport { allTabs, TabType } from './utils'\nimport cls from './styles.module.scss'\nimport { stickCanvas, STICKY_CANVAS_CLASS, unstickCanvas } from './stickyCanvas'\n\ntype Props = {\n  docs: React.ReactNode\n  props: React.ReactNode\n  css: React.ReactNode\n\n  canvas: React.ReactNode\n}\nexport const Tabs = ({ ...restTabs }: Props) => {\n  const [tab, setTab] = useState<TabType>(Object.keys(restTabs)[0] as TabType)\n  const trackerRef = useRef<HTMLDivElement | null>(null)\n  const startingRef = useRef<HTMLDivElement | null>(null)\n\n  useLayoutEffect(() => {\n    document.querySelectorAll('[data-category-value]').forEach(node => {\n      const nodeValue = node.getAttribute('data-category-value')\n\n      if (nodeValue === tab && trackerRef?.current) {\n        moveTracker(node)\n      }\n    })\n  }, [])\n\n  const handleTabClick = useCallback((event: any) => {\n    const target = event.target as HTMLDivElement\n    const newValue = target.getAttribute('data-category-value')\n\n    if (newValue === 'props') {\n      stickCanvas()\n    } else {\n      unstickCanvas()\n    }\n\n    if (newValue) {\n      moveTracker(target)\n      setTab(newValue as TabType)\n    }\n  }, [])\n\n  const moveTracker = useCallback((node: Element) => {\n    if (!trackerRef?.current || !startingRef?.current) return\n\n    const startingRect = startingRef?.current.getBoundingClientRect()\n    const rect = node.getBoundingClientRect()\n    const elementWidth = rect.right - rect.left\n\n    trackerRef.current.style.transform = `translateX(${rect.x - startingRect.x - 8}px)`\n    trackerRef.current.style.width = `${elementWidth + 16}px`\n  }, [])\n\n  return (\n    <>\n      <div className={cls.categoryList} ref={startingRef}>\n        {allTabs.map(({ value, label }) => {\n          const isTab = Boolean(restTabs[value])\n          return (\n            isTab && (\n              <div\n                key={value}\n                className={clsx(cls.categoryItem, { [cls.activeItem]: value === tab })}\n                data-category-value={value}\n                onClick={handleTabClick}\n              >\n                {label}\n              </div>\n            )\n          )\n        })}\n        <div ref={trackerRef} className={cls.categoryTracker} />\n      </div>\n\n      <div className={cls.content}>{restTabs[tab]}</div>\n    </>\n  )\n}\n"],"names":["allTabs","STICKY_CANVAS_CLASS","stickyCanvasObj","stickCanvas","canvas","unstickCanvas","Tabs","restTabs","tab","setTab","useState","trackerRef","useRef","startingRef","useLayoutEffect","node","moveTracker","handleTabClick","useCallback","event","target","newValue","startingRect","rect","elementWidth","jsxs","Fragment","cls","value","label","jsx","clsx"],"mappings":"+LACO,MAAMA,EAAU,CACrB,CAAE,MAAO,OAAQ,MAAO,cAAe,EACvC,CAAE,MAAO,QAAS,MAAO,UAAW,EACpC,CAAE,MAAO,MAAO,MAAO,gBAAiB,EACxC,CAAE,MAAO,SAAU,MAAO,QAAS,CACrC,ECNaC,EAAsB,sBACtBC,EAAkB,CAC7B,UAAWD,EACX,YAAa,EACf,EAEaE,EAAc,IAAM,CAC/B,MAAMC,EAAyB,SAAS,cAAc,IAAIH,CAAmB,EAAE,EAE/E,GAAI,CAACG,EAAQ,CACX,QAAQ,KAAK,kCAAkC,EAC/C,MACF,CAEAA,EAAO,MAAM,SAAW,SACxBA,EAAO,MAAM,IAAM,IACnBA,EAAO,MAAM,OAAS,KACxB,EAEaC,EAAgB,IAAM,CACjC,MAAMD,EAAyB,SAAS,cAAc,IAAIH,CAAmB,EAAE,EAE/E,GAAI,CAACG,EAAQ,CACX,QAAQ,KAAK,oCAAoC,EACjD,MACF,CAEAA,EAAO,MAAM,SAAW,UAC1B,ECdaE,EAAO,CAAC,CAAE,GAAGC,KAAsB,CACxC,KAAA,CAACC,EAAKC,CAAM,EAAIC,EAAA,SAAkB,OAAO,KAAKH,CAAQ,EAAE,CAAC,CAAY,EACrEI,EAAaC,SAA8B,IAAI,EAC/CC,EAAcD,SAA8B,IAAI,EAEtDE,EAAAA,gBAAgB,IAAM,CACpB,SAAS,iBAAiB,uBAAuB,EAAE,QAAgBC,GAAA,CAC/CA,EAAK,aAAa,qBAAqB,IAEvCP,IAAOG,GAAA,MAAAA,EAAY,UACnCK,EAAYD,CAAI,CAClB,CACD,CACH,EAAG,CAAE,CAAA,EAEC,MAAAE,EAAiBC,cAAaC,GAAe,CACjD,MAAMC,EAASD,EAAM,OACfE,EAAWD,EAAO,aAAa,qBAAqB,EAEtDC,IAAa,QACHlB,IAEEE,IAGZgB,IACFL,EAAYI,CAAM,EAClBX,EAAOY,CAAmB,EAE9B,EAAG,CAAE,CAAA,EAECL,EAAcE,cAAaH,GAAkB,CACjD,GAAI,EAACJ,GAAA,MAAAA,EAAY,UAAW,EAACE,GAAA,MAAAA,EAAa,SAAS,OAE7C,MAAAS,EAAeT,GAAA,YAAAA,EAAa,QAAQ,wBACpCU,EAAOR,EAAK,wBACZS,EAAeD,EAAK,MAAQA,EAAK,KAE5BZ,EAAA,QAAQ,MAAM,UAAY,cAAcY,EAAK,EAAID,EAAa,EAAI,CAAC,MAC9EX,EAAW,QAAQ,MAAM,MAAQ,GAAGa,EAAe,EAAE,IACvD,EAAG,CAAE,CAAA,EAEL,OAEIC,EAAAC,EAAA,CAAA,SAAA,CAAAD,EAAC,MAAI,CAAA,UAAWE,EAAI,aAAc,IAAKd,EACpC,SAAA,CAAAb,EAAQ,IAAI,CAAC,CAAE,MAAA4B,EAAO,MAAAC,KACP,EAAQtB,EAASqB,CAAK,GAGhCE,EAAC,MAAA,CAEC,UAAWC,EAAKJ,EAAI,aAAc,CAAE,CAACA,EAAI,UAAU,EAAGC,IAAUpB,EAAK,EACrE,sBAAqBoB,EACrB,QAASX,EAER,SAAAY,CAAA,EALID,CAAA,CASZ,IACA,MAAI,CAAA,IAAKjB,EAAY,UAAWgB,EAAI,gBAAiB,CAAA,EACxD,IAEC,MAAI,CAAA,UAAWA,EAAI,QAAU,SAAApB,EAASC,CAAG,EAAE,CAC9C,CAAA,CAAA,CAEJ"}